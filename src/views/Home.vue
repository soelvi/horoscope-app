<template>
	<div class="horoscope">
		<h2 class="horoscope__header"> 
		{{ title }}
		</h2>
		<!-- husk Ã¥ endre svg her -->
		<h1 class="horoscope__title"> 
				<svg width="56" height="56" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
				<g clip-path="url(#clip0_8_14)">
				<path d="M21 0.973038C21.3416 1.38818 21.5509 1.89624 21.6009 2.43157C21.6508 2.96689 21.539 3.50489 21.28 3.97604C19.2565 7.6912 18.1998 11.8556 18.207 16.086C18.207 30.1595 29.68 41.5555 43.82 41.5555C45.6645 41.5555 47.46 41.363 49.1855 40.9955C49.7144 40.881 50.2654 40.9248 50.7696 41.1215C51.2738 41.3182 51.7089 41.6591 52.0205 42.1015C52.3495 42.5616 52.5172 43.1175 52.4976 43.6827C52.4779 44.248 52.2721 44.7909 51.912 45.227C49.1669 48.5991 45.7039 51.316 41.7754 53.1797C37.847 55.0434 33.5521 56.0069 29.204 56C13.069 56 0 43.001 0 26.985C0 14.931 7.399 4.59204 17.934 0.210038C18.4588 -0.0117508 19.0414 -0.0572719 19.5942 0.0803125C20.1471 0.217897 20.6404 0.531158 21 0.973038Z" fill="#D0E1F9"/>
				<path d="M37.779 11.018C37.8292 10.8664 37.9259 10.7345 38.0553 10.6411C38.1847 10.5476 38.3403 10.4973 38.5 10.4973C38.6597 10.4973 38.8153 10.5476 38.9447 10.6411C39.0741 10.7345 39.1708 10.8664 39.221 11.018L40.5755 15.085C41.181 16.898 42.602 18.319 44.415 18.9245L48.482 20.279C48.6336 20.3292 48.7655 20.4259 48.8589 20.5553C48.9524 20.6847 49.0027 20.8403 49.0027 21C49.0027 21.1597 48.9524 21.3153 48.8589 21.4447C48.7655 21.5741 48.6336 21.6708 48.482 21.721L44.415 23.0755C43.5208 23.3734 42.7083 23.8755 42.0419 24.5419C41.3755 25.2084 40.8734 26.0208 40.5755 26.915L39.221 30.982C39.1708 31.1336 39.0741 31.2655 38.9447 31.359C38.8153 31.4524 38.6597 31.5028 38.5 31.5028C38.3403 31.5028 38.1847 31.4524 38.0553 31.359C37.9259 31.2655 37.8292 31.1336 37.779 30.982L36.4245 26.915C36.1266 26.0208 35.6245 25.2084 34.9581 24.5419C34.2916 23.8755 33.4792 23.3734 32.585 23.0755L28.518 21.721C28.3664 21.6708 28.2345 21.5741 28.141 21.4447C28.0476 21.3153 27.9972 21.1597 27.9972 21C27.9972 20.8403 28.0476 20.6847 28.141 20.5553C28.2345 20.4259 28.3664 20.3292 28.518 20.279L32.585 18.9245C33.4792 18.6266 34.2916 18.1245 34.9581 17.4581C35.6245 16.7917 36.1266 15.9792 36.4245 15.085L37.779 11.018ZM48.5205 0.346508C48.555 0.24685 48.6198 0.160434 48.7057 0.0992738C48.7917 0.0381137 48.8945 0.00524902 49 0.00524902C49.1055 0.00524902 49.2083 0.0381137 49.2943 0.0992738C49.3802 0.160434 49.4449 0.24685 49.4795 0.346508L50.3825 3.05551C50.785 4.26651 51.7335 5.21501 52.9445 5.61751L55.6535 6.52051C55.7532 6.55506 55.8396 6.6198 55.9007 6.70574C55.9619 6.79167 55.9948 6.89453 55.9948 7.00001C55.9948 7.10549 55.9619 7.20834 55.9007 7.29428C55.8396 7.38021 55.7532 7.44496 55.6535 7.47951L52.9445 8.38251C52.3477 8.58104 51.8054 8.91597 51.3607 9.3607C50.916 9.80543 50.581 10.3477 50.3825 10.9445L49.4795 13.6535C49.4449 13.7532 49.3802 13.8396 49.2943 13.9007C49.2083 13.9619 49.1055 13.9948 49 13.9948C48.8945 13.9948 48.7917 13.9619 48.7057 13.9007C48.6198 13.8396 48.555 13.7532 48.5205 13.6535L47.6175 10.9445C47.419 10.3477 47.084 9.80543 46.6393 9.3607C46.1946 8.91597 45.6523 8.58104 45.0555 8.38251L42.3465 7.47951C42.2468 7.44496 42.1604 7.38021 42.0993 7.29428C42.0381 7.20834 42.0052 7.10549 42.0052 7.00001C42.0052 6.89453 42.0381 6.79167 42.0993 6.70574C42.1604 6.6198 42.2468 6.55506 42.3465 6.52051L45.0555 5.61751C46.2665 5.21501 47.215 4.26651 47.6175 3.05551L48.5205 0.350008V0.346508Z" fill="#D0E1F9"/>
				</g>
				<defs>
				<clipPath id="clip0_8_14">
				<rect width="56" height="56" fill="white"/>
				</clipPath>
				</defs>
				</svg>
			{{ name }} 
				<svg width="49" height="50" viewBox="0 0 49 50" fill="none" xmlns="http://www.w3.org/2000/svg">
				<path d="M23.4496 19.1314C23.7864 18.1208 25.2136 18.1208 25.5504 19.1314L27.5258 25.0635C27.9605 26.3675 28.6931 27.5523 29.6653 28.524C30.6376 29.4958 31.8228 30.2277 33.1271 30.6617L39.0561 32.6371C40.0667 32.9739 40.0667 34.4011 39.0561 34.7379L33.124 36.7132C31.82 37.148 30.6352 37.8806 29.6634 38.8528C28.6917 39.8251 27.9598 41.0103 27.5258 42.3146L25.5504 48.2436C25.4778 48.4649 25.3371 48.6576 25.1485 48.7942C24.9599 48.9308 24.7329 49.0044 24.5 49.0044C24.2671 49.0044 24.0401 48.9308 23.8515 48.7942C23.6629 48.6576 23.5222 48.4649 23.4496 48.2436L21.4743 42.3115C21.0398 41.0078 20.3077 39.8232 19.336 38.8515C18.3643 37.8798 17.1797 37.1477 15.876 36.7132L9.94394 34.7379C9.72264 34.6653 9.52993 34.5246 9.3933 34.336C9.25668 34.1474 9.18312 33.9204 9.18312 33.6875C9.18312 33.4546 9.25668 33.2276 9.3933 33.039C9.52993 32.8503 9.72264 32.7097 9.94394 32.6371L15.876 30.6617C17.1797 30.2273 18.3643 29.4952 19.336 28.5235C20.3077 27.5518 21.0398 26.3672 21.4743 25.0635L23.4496 19.1314ZM11.6191 3.51574C11.663 3.38312 11.7476 3.26771 11.8609 3.18591C11.9741 3.10411 12.1103 3.06008 12.25 3.06008C12.3897 3.06008 12.5259 3.10411 12.6391 3.18591C12.7524 3.26771 12.837 3.38312 12.8809 3.51574L14.0661 7.07437C14.5959 8.66074 15.8393 9.90412 17.4256 10.4339L20.9843 11.6191C21.1169 11.663 21.2323 11.7476 21.3141 11.8609C21.3959 11.9741 21.4399 12.1103 21.4399 12.25C21.4399 12.3897 21.3959 12.5258 21.3141 12.6391C21.2323 12.7524 21.1169 12.837 20.9843 12.8809L17.4256 14.0661C16.6432 14.3267 15.9323 14.766 15.3492 15.3492C14.766 15.9323 14.3267 16.6432 14.0661 17.4256L12.8809 20.9842C12.837 21.1169 12.7524 21.2323 12.6391 21.3141C12.5259 21.3959 12.3897 21.4399 12.25 21.4399C12.1103 21.4399 11.9741 21.3959 11.8609 21.3141C11.7476 21.2323 11.663 21.1169 11.6191 20.9842L10.4339 17.4256C10.1733 16.6432 9.73396 15.9323 9.15083 15.3492C8.5677 14.766 7.85677 14.3267 7.07437 14.0661L3.51575 12.8809C3.38313 12.837 3.26772 12.7524 3.18592 12.6391C3.10412 12.5258 3.06009 12.3897 3.06009 12.25C3.06009 12.1103 3.10412 11.9741 3.18592 11.8609C3.26772 11.7476 3.38313 11.663 3.51575 11.6191L7.07437 10.4339C7.85677 10.1733 8.5677 9.73395 9.15083 9.15082C9.73396 8.56769 10.1733 7.85676 10.4339 7.07437L11.6191 3.51574ZM33.2679 0.303179C33.2982 0.215979 33.3548 0.140364 33.43 0.0868494C33.5052 0.0333342 33.5952 0.00457764 33.6875 0.00457764C33.7798 0.00457764 33.8698 0.0333342 33.945 0.0868494C34.0202 0.140364 34.0768 0.215979 34.1071 0.303179L34.8972 2.67355C35.2494 3.73318 36.0793 4.56312 37.1389 4.9153L39.5093 5.70543C39.5965 5.73566 39.6721 5.79231 39.7256 5.86751C39.7792 5.9427 39.8079 6.0327 39.8079 6.12499C39.8079 6.21728 39.7792 6.30728 39.7256 6.38248C39.6721 6.45767 39.5965 6.51432 39.5093 6.54456L37.1389 7.33468C36.6167 7.50839 36.1422 7.80146 35.7531 8.1906C35.364 8.57974 35.0709 9.05424 34.8972 9.57643L34.1071 11.9468C34.0768 12.034 34.0202 12.1096 33.945 12.1631C33.8698 12.2167 33.7798 12.2454 33.6875 12.2454C33.5952 12.2454 33.5052 12.2167 33.43 12.1631C33.3548 12.1096 33.2982 12.034 33.2679 11.9468L32.4778 9.57643C32.3041 9.05424 32.011 8.57974 31.6219 8.1906C31.2328 7.80146 30.7583 7.50839 30.2361 7.33468L27.8688 6.54456C27.7816 6.51432 27.7059 6.45767 27.6524 6.38248C27.5989 6.30728 27.5702 6.21728 27.5702 6.12499C27.5702 6.0327 27.5989 5.9427 27.6524 5.86751C27.7059 5.79231 27.7816 5.73566 27.8688 5.70543L30.2391 4.9153C31.2987 4.56312 32.1287 3.73318 32.4809 2.67355L33.2679 0.306242V0.303179Z" fill="#D0E1F9"/>
				</svg>
				</h1>
		<h1 class="horoscope__title"> your sign </h1>
		<div class="horoscope__sign">
			<select v-model="currentSign">
				<option v-for="sign in allSigns" :value="sign" :key="sign"> {{ sign }} </option>
			</select>
			<!-- <button @click="fetchData">enter sign</button> --> 
			<!-- force update: https://michaelnthiessen.com/force-re-render/ -->
		</div>

		<div class="horoscope__days">
			<button @click="getYesterday()"> <svg width="20" height="20" viewBox="0 0 20 29" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.31559 14.7281L17.8498 0.294584L18.3964 28.4706L0.31559 14.7281Z" fill="#D0E1F9"/> </svg> </button>
			<h1 class="horoscope__daysTitle"> {{ currentDate }} </h1>	
			<button @click="getTomorrow()"> <svg width="20" height="20" viewBox="0 0 20 29" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19.0916 14.7765L0.982376 28.4816L1.58729 0.306788L19.0916 14.7765Z" fill="#D0E1F9"/> </svg> </button>
		</div>

		<div class="horoscope_currentDate"> {{ horoscope.current_date }} </div>
		<div class="horoscope_description"> {{ horoscope.description }} </div>

		<h1 class="horoscope__title"> lucky number </h1>
		<div class="horoscope__luckyNumber"> {{ horoscope.lucky_number }} </div>
	</div>
</template>

<script>

export default {
	data() {
		return {
			title: 'read your daily horoscope',
			name: 'ASTROWORLD',
			horoscope: {},
			currentSign: 'aries',
			allSigns: [
				"aries", "taurus", "gemini", "cancer", "leo", "virgo", "libra", "scorpio", "sagittarius", "capricorn", "aquarius", "pisces"
			],
			currentDate: 'today',
			allDates: [ "yesterday", "today", "tomorrow" ]
		}
	},

	created() {
		this.fetchData();
	},

	computed: {
		// fromAllDates() {
		// 	return this.allDates
		// }
	},

	methods: {
		async fetchData() {
			const url = `https://aztro.sameerkumar.website/?sign=${this.currentSign}&day=${this.currentDate}`; // lage literal string 
			const options = {method: 'POST'}
			const response = await fetch(url, options); // default as GET 
			const results = await response.json();
			this.horoscope = results;
		},

		getYesterday() {	
			this.currentDate === this.allDates.indexOf('0'); 
			// this.currentDate = 1 : this.currentDate--
			// this.currentDate = 'yesterday';
			// this.currentDate = this.allDates[1] -= 1
			// fetchData()
			console.log('Clicked')
		},

		// https://www.tutorialsplane.com/vue-js-array-shift/
		
		getTomorrow() {
			// this.currentDate = 'tomorrow';
			this.currentDate = allDates[1] += 1 
			fetchData()
			console.log('Clicked')
		}
	}
}
</script>

<style>

button {
	color: #efb509;
	padding: 10px;
}

select {
	padding: 5px;
	font-size: var(--font-size);
	font-family: var(--font-family);
	color: var(--background);
	border-radius: 20px;
	text-align: center;
	background-color: #efb509;
	opacity: 80%;
	border-style: none;
}

.horoscope {
	padding: 50px;
	/* background: var(--background); */
	height: 100vh;	
	display: flex;
	flex-direction: column;
	justify-content:space-evenly;
	text-align: center;
}

.horoscope__header {
	color: #4d648d;
}

.horoscope__title {
	color: var(--title-color);
	font-size: var(--font-size-title);
	padding-bottom: var(--padding-bottom);
}

.horoscope__daysTitle {
	color: var(--title-color);
	font-size: var(--font-size-title);
}

.horoscope__sign {
	padding-bottom: var(--padding-bottom);
}

.horoscope__days {
	display: flex;
	justify-content: center;
	padding-bottom: var(--padding-bottom);
}

.horoscope_description {
	color: var(--title-color);
	font-size: var(--font-size);
	width: 400px;
	align-self: center;
	line-height: var(--line-height);
	padding-bottom: var(--padding-bottom);
}

.horoscope_currentDate {
	color: var(--title-color);
	padding-bottom: var(--padding-bottom);
}

.horoscope__luckyNumber {
	display: flex;
	flex-direction: column;
	justify-content: center;
	width: 55px;
	height: 55px;
	background-color: #efb509;
	opacity: 80%;
	border-radius: 50px;
	font-size: 24pt;
	color: var(--background);
	align-self: center;
}
</style>

